<html>
    <head>
        {% load staticfiles %}
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <link rel="stylesheet" href="/static/main.css">
        <script type='text/javascript' src="{% static 'js/jquery-1.12.3.min.js' %}"></script>
        <script type='text/javascript' src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <script type='text/javascript' src="{% static 'js/typeahead.bundle.min.js' %}"></script>
        <script type='text/javascript' src="{% static 'js/jquery.js' %}"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script>
            {% block content %}
            $.ajax({
                type: "GET",
                url: "/",
                contentType: "application/json",
                dataType: "json",
                data: {
                    search: "{{ search_params }}",
                    page: "{{ page_params }}"
                },
                success: function(response) {
                    console.log(response);
                },
                error: function(response) {
                    console.log("error");
                }
            });
            {% endblock %}
        </script>
    </head>
    
    <body>
        <div class="topcorner">
            <p>Beer Recommendation</p>
            <p>Ilan Filonenko: if56</p>
            <p>Kelsey Duncan: ked83</p>
            <p>Pujaa Rajan: pr3388</p>
            <p>Zheng Yao: zy87</p>
        </div>
        
        <form class="form-inline global-search" method='GET'>
            <h1 style="font-size: 55px; font-family:Futura; color: #4285F4">
                B
                <font color=#EA4335>E</font>
                <font color=#FBBC05>E</font>
                <font color=#34A853>R</font>
                <font color=#FBBC05>G</font>
                <font color=#34A853>L</font>
                <font color=#EA4335>E</font>
            </h1>
            
            <br><br>
            
            <div id="the-basics" class="form-group">
                <input id="input1" type="text" name="search" class="typeahead form-control" placeholder="Beer Name">
            </div>
            <div id="the-features" class="form-group">
                <input id="input2" type="text" name="search_features" class="typeahead form-control" placeholder="Beer Feature">
            </div>
            <button id="search-button" type="button" class="btn btn-info"> Go! </button>
        </form>
        <div class="container-multi" style="margin-left: 10.5em;">
            <ul id="choices" class="choices" style="list-style: none;"> 
            </ul>
        </div>
        <div class="output form-inline global-search">
            <h4>Output</h4>
            <br>
            Search values: {{search_params}}
            <br>
            Page Number: {{page_params}}
            <br>
            <div id="barchart">
                <svg class="chart"></svg>
            </div>
            
            <div class="pagination">
                <span class="step-links">
                    {% if output.has_previous %}
                    <a href= "{{magic_url}}&page={{ output.previous_page_number }}">previous</a>
                    {% endif %}
                    
                    <!-- Showing the page numbers in Html Page -->
                    <span class="current">
                    Page _{{ output.number }}_ of _{{ output.paginator.num_pages }}_
                    </span>
                    
                    {% if output.has_next %}
                    <a href= "{{magic_url}}&page={{ output.next_page_number }}">next</a>
                    {% endif %}
                </span>
            </div>
        </div>
    </body>
</html>